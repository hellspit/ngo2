{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/bourbaki/ngoWorkNew/ngo2/src/app/media/page.tsx"],"sourcesContent":["'use client';\n\nimport './style.css';\nimport React, { useState, useEffect } from 'react';\nimport type { ReactElement } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Globe, Info, FileText, Users, Calendar, Mail, Menu, X, Search } from 'lucide-react';\n\ninterface NavItem {\n  label: string;\n  icon: ReactElement;\n  href: string;\n}\n\ninterface Event {\n  id: string;\n  title: string;\n  description: string;\n  date: string;\n  image_url: string;\n  location: string;\n}\n\nconst navItems: NavItem[] = [\n  { label: 'Home', icon: <Globe size={20} />, href: '/' },\n  { label: 'About Us', icon: <Info size={20} />, href: '/AboutUs' },\n  { label: 'Media', icon: <FileText size={20} />, href: '/media' },\n  { label: 'Space Community', icon: <Users size={20} />, href: '/community' },\n  { label: 'Space Calendar', icon: <Calendar size={20} />, href: '/calendar' },\n  { label: 'Contact us', icon: <Mail size={20} />, href: '/contact' },\n];\n\n// Backend base URL\nconst BACKEND_URL = 'http://127.0.0.1:8000';\n\nexport default function MediaPage() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [events, setEvents] = useState<Event[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSearchExpanded, setIsSearchExpanded] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchEvents();\n  }, []);\n\n  const fetchEvents = async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${BACKEND_URL}/api/events/?skip=0&limit=100`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'omit',\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      console.log('Events data:', data);\n      \n      // Log image URLs for debugging\n      data.forEach((event: Event) => {\n        if (event.image_url) {\n          console.log(`Event ${event.id} image URL: ${getImageUrl(event.image_url)}`);\n        }\n      });\n      \n      setEvents(data);\n    } catch (error) {\n      console.error('Error fetching events:', error);\n      setError('Failed to load events. Please try again later.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getImageUrl = (imageUrl: string | null) => {\n    if (!imageUrl) return '/default-event.svg';\n    \n    // If the URL already starts with http, it's a complete URL\n    if (imageUrl.startsWith('http')) return imageUrl;\n    \n    // For static files from the FastAPI backend\n    const staticUrlPattern = /^\\/static\\//;\n    if (staticUrlPattern.test(imageUrl)) {\n      // Direct URL to the backend static file\n      return `${BACKEND_URL}${imageUrl}`;\n    }\n    \n    // Default fallback\n    return '/default-event.svg';\n  };\n\n  const filteredEvents = events.filter(event => \n    event.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    event.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    event.location.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  return (\n    <>\n      <div className=\"header-container\">\n        <Link href=\"/\" className=\"logo-container\">\n          <Image\n            src=\"/logo.png\"\n            alt=\"Logo\"\n            width={80}\n            height={80}\n            className=\"logo-image\"\n          />\n        </Link>\n\n        <nav className=\"navbar\">\n          <button className=\"menu-toggle\" onClick={toggleMenu}>\n            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}\n          </button>\n          \n          <div className={`nav-items ${isMenuOpen ? 'show' : ''}`}>\n            {navItems.map((item, index) => (\n              <Link \n                key={index} \n                href={item.href} \n                className=\"nav-item\"\n                onClick={() => setIsMenuOpen(false)}\n              >\n                <div className=\"nav-icon\">{item.icon}</div>\n                <span className=\"nav-label\">{item.label}</span>\n              </Link>\n            ))}\n          </div>\n        </nav>\n      </div>\n\n      <div className=\"media-content\">\n        <div className=\"events-list\">\n          <div className=\"section-title-container\">\n            <h2>Our Events</h2>\n            <div className=\"search-container\">\n              {isSearchExpanded ? (\n                <div className=\"search-input-wrapper\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search events...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    className=\"search-input\"\n                    autoFocus\n                  />\n                  <button \n                    className=\"close-search-btn\"\n                    onClick={() => {\n                      setIsSearchExpanded(false);\n                      setSearchQuery('');\n                    }}\n                  >\n                    <X size={18} />\n                  </button>\n                </div>\n              ) : (\n                <button \n                  className=\"search-toggle-btn\"\n                  onClick={() => setIsSearchExpanded(true)}\n                  aria-label=\"Search events\"\n                >\n                  <Search size={18} />\n                </button>\n              )}\n            </div>\n          </div>\n\n          {isLoading && (\n            <div className=\"loading-container\">\n              <div className=\"loading-spinner\"></div>\n              <p>Loading events...</p>\n            </div>\n          )}\n\n          {error && (\n            <div className=\"error-container\">\n              <p>{error}</p>\n              <button onClick={fetchEvents} className=\"retry-button\">Retry</button>\n            </div>\n          )}\n\n          {!isLoading && !error && filteredEvents.length === 0 && (\n            <div className=\"no-results\">\n              <p>No events found matching your search criteria.</p>\n            </div>\n          )}\n\n          <div className=\"events-grid\">\n            {filteredEvents.map(event => (\n              <div key={event.id} className=\"event-card\">\n                <div className=\"event-image-wrapper\">\n                  <img \n                    src={getImageUrl(event.image_url)}\n                    alt={event.title} \n                    className=\"event-image\" \n                    loading=\"lazy\"\n                    onError={(e) => {\n                      console.log(`Image failed to load: ${event.image_url}`);\n                      // Fallback if image fails to load\n                      (e.target as HTMLImageElement).src = '/default-event.svg';\n                    }}\n                  />\n                </div>\n                <div className=\"event-details\">\n                  <h3>{event.title}</h3>\n                  <p>{event.description}</p>\n                  <div className=\"event-date\">\n                    {new Date(event.date).toLocaleDateString('en-US', {\n                      weekday: 'long',\n                      year: 'numeric',\n                      month: 'long',\n                      day: 'numeric'\n                    })}\n                  </div>\n                  <div className=\"event-location\">\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                      <path d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"></path>\n                      <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\n                    </svg>\n                    {event.location}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}